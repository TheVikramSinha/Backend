<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/Quiz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <title>Senior Backend Developer Assessment | Created by Vikram Kumar Sinha</title>
    <meta name="description" content="Take this advanced Backend Development skill assessment covering Node.js, Python, SQL, and System Design. Designed by Lead Engineer Vikram Kumar Sinha to evaluate Junior vs Senior technical potential.">
    <meta name="keywords" content="Backend Developer Test, System Design Quiz, Python GIL, Node.js Event Loop, Vikram Kumar Sinha, Technical Hiring Assessment, SQL Optimization, API Security">
    <meta name="author" content="Vikram Kumar Sinha">
    <meta name="robots" content="index, follow">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vikramkumarsinha.com/backend-assessment">
    <meta property="og:title" content="Backend Engineering Competency Test by Vikram Kumar Sinha">
    <meta property="og:description" content="A 25-question timed assessment analyzing Backend proficiency in Node, Python, and Distributed Systems. Author: Vikram Kumar Sinha.">
    <meta property="og:image" content="https://via.placeholder.com/1200x630.png?text=Backend+Assessment+by+Vikram+Kumar+Sinha">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Backend Assessment | Vikram Kumar Sinha">
    <meta property="twitter:description" content="Test your Backend Engineering skills. Created by Vikram Kumar Sinha.">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org/",
      "@type": "Quiz",
      "name": "Backend Developer Competency Assessment",
      "about": {
        "@type": "Thing",
        "name": "Software Engineering"
      },
      "author": {
        "@type": "Person",
        "name": "Vikram Kumar Sinha",
        "jobTitle": "Senior Software Engineer"
      },
      "assesses": "Backend Development Skills",
      "educationalLevel": "Intermediate to Advanced"
    }
    </script>

    <style>
        /* CSS for Typeform-like UI */
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            background-color: #f4f6f8;
            color: #333;
        }

        /* Author Header for Branding */
        header {
            width: 100%;
            padding: 20px 0;
            text-align: center;
            color: #666;
            font-size: 0.9em;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        #quiz-container {
            background: white;
            padding: 40px 60px;
            border-radius: 12px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 800px;
            min-height: 500px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            margin-bottom: 40px;
            position: relative;
        }

        .question-slide {
            display: none;
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
        }

        .question-slide.active {
            display: block;
            opacity: 1;
        }

        h2 {
            font-size: 1.6em;
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }

        .scenario-text {
            font-size: 1.15em;
            margin-bottom: 25px;
            line-height: 1.6;
            padding: 20px;
            background-color: #eef6fc; /* Branding Blue Light */
            border-left: 5px solid #007bff;
            border-radius: 4px;
            color: #2c3e50;
        }

        .option-button {
            display: block;
            width: 100%;
            padding: 18px 25px;
            margin-bottom: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: white;
            font-size: 1.05em;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            line-height: 1.4;
            color: #444;
        }

        .option-button:hover {
            border-color: #007bff;
            background-color: #f4f9ff;
            transform: translateX(5px);
        }

        .option-button.selected {
            background-color: #007bff;
            color: white;
            border-color: #007bff;
            transform: translateX(5px);
        }

        #navigation {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            margin-top: 30px;
        }

        .nav-button {
            padding: 12px 28px;
            font-size: 1em;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
            font-weight: 600;
        }

        #next-button {
            background-color: #28a745;
            color: white;
        }

        #next-button:disabled {
            background-color: #d6d6d6;
            cursor: not-allowed;
        }

        #result-screen {
            text-align: center;
            padding: 30px 0;
        }

        .progress-bar {
            height: 6px;
            background: #eaeaea;
            border-radius: 4px;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #007bff;
            width: 0%;
            transition: width 0.3s ease-in-out;
        }

        #timer-display {
            font-size: 1.3em;
            font-weight: bold;
            color: #dc3545;
            text-align: right;
            margin-bottom: 20px;
        }

        #start-screen {
            text-align: center;
            padding: 40px 20px;
        }

        #start-button {
            background-color: #007bff;
            color: white;
            padding: 16px 45px;
            font-size: 1.3em;
            border-radius: 8px;
            margin-top: 30px;
            cursor: pointer;
            border: none;
            transition: background-color 0.2s;
            box-shadow: 0 4px 15px rgba(0,123,255,0.3);
        }

        #start-button:hover {
            background-color: #0056b3;
            transform: translateY(-2px);
        }

        .role-badge {
            display: inline-block;
            padding: 12px 25px;
            margin-top: 20px;
            background-color: #6c757d;
            color: white;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: bold;
        }

        /* Detailed Feedback Styles */
        .feedback-box {
            background-color: #fff3cd;
            padding: 25px;
            border-radius: 8px;
            margin-top: 30px;
            text-align: left;
            border-left: 6px solid #ffc107;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .feedback-box h3 {
            margin-top: 0;
            color: #856404;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feedback-list li {
            margin-bottom: 10px;
            font-size: 1.05em;
            color: #333;
        }

        footer {
            margin-top: auto;
            padding: 20px;
            color: #888;
            font-size: 0.9em;
        }
    </style>
</head>
<body>

<header>
    Assessment Designed by <strong>Vikram Kumar Sinha</strong>
</header>

<main id="quiz-container">
    
    <div id="start-screen">
        <h1 style="color: #007bff; margin-bottom: 10px;">Backend Engineering Assessment</h1>
        <p style="font-size: 1.1em; color: #555;">Technical evaluation covering Node.js, Python, System Design & Security.</p>
        
        <hr style="border: 0; border-top: 1px solid #eee; margin: 30px 0;">

        <div style="text-align: left; margin-bottom: 15px; font-size: 1.1em;">
            ‚úÖ <strong>25 Randomized Questions</strong> (No two tests are the same).
        </div>
        <div style="text-align: left; margin-bottom: 15px; font-size: 1.1em;">
            ‚è±Ô∏è <strong>30 Seconds</strong> per question. Auto-advance enabled.
        </div>
        <div style="text-align: left; margin-bottom: 15px; color: #dc3545; font-weight: bold;">
            ‚ö†Ô∏è Smart Analysis will determine your fit for Junior vs Senior roles.
        </div>

        <button id="start-button" onclick="startQuiz()">Begin Assessment</button>
    </div>

    <div id="quiz-interface" style="display: none;">
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div id="timer-display">Time Left: <span id="time-left">35</span>s</div>
        
        <div id="quiz-content">
            </div>
        
        <div id="result-screen" style="display: none;">
            <h2 style="font-size: 2.2em; border: none;">Assessment Complete</h2>
            
            <p id="final-score" style="font-size: 3.5em; font-weight: 800; color: #333; margin: 15px 0;">--/--</p>
            
            <div id="role-designation" class="role-badge">Analyzing...</div>
            
            <div id="detailed-feedback" class="feedback-box" style="display:none;">
                <h3>‚ö†Ô∏è Focus Areas for Improvement:</h3>
                <p>Based on your specific incorrect answers, review these topics:</p>
                <ul id="weakness-list" class="feedback-list"></ul>
            </div>
            
            <p id="general-feedback" style="font-size: 1.1em; color: #555; margin-top:25px; line-height: 1.6; padding: 0 20px;"></p>
            
            <button class="nav-button" style="background-color: #6c757d; margin-top:20px;" onclick="window.location.reload()">Retake Assessment</button>
        </div>

        <div id="navigation">
            <button id="next-button" class="nav-button" disabled>Next Question ‚Üí</button>
        </div>
    </div>
</main>

<footer>
    &copy; <script>document.write(new Date().getFullYear())</script> Vikram Kumar Sinha. All Rights Reserved.
</footer>

<script>
    // --- 1. RANDOMIZATION UTILITY (Fisher-Yates Shuffle) ---
    // This ensures true randomness for both Question Order and Answer Options
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    // --- 2. QUESTION BANK (Source Data) ---
    const initialQuestions = [
        {
            topic: "Python Concurrency",
            scenario: "[Python] You are running a CPU-intensive task (e.g., image processing) using multi-threading in Python, but you notice it's only using one CPU core.",
            question: "What Python mechanism is preventing true parallelism in threads?",
            options: ["The Global Interpreter Lock (GIL)", "The Garbage Collector", "List Comprehensions", "The asyncio loop"],
            answerText: "The Global Interpreter Lock (GIL)"
        },
        {
            topic: "Node.js Performance",
            scenario: "[Node.js] A user uploads a 5GB file. Your server crashes with an 'Out of Memory' error because you tried to read the whole file into a variable.",
            question: "What Node.js feature should you use to process this file in chunks without filling up RAM?",
            options: ["Streams (fs.createReadStream)", "Buffers (fs.readFileSync)", "Promises", "Events"],
            answerText: "Streams (fs.createReadStream)"
        },
        {
            topic: "Python Decorators",
            scenario: "[Python] You see this code: @app.route('/login'). The @ symbol modifies the function below it.",
            question: "What is this feature called, and what does it technically do?",
            options: ["Decorator; wraps a function to extend behavior.", "Generator; creates an iterator.", "Lambda; creates an anonymous function.", "Mixin; adds properties to a class."],
            answerText: "Decorator; wraps a function to extend behavior."
        },
        {
            topic: "Node.js Event Loop",
            scenario: "[Node.js] A recursive function calculates Fibonacci numbers. When requested, the server freezes and cannot handle other requests.",
            question: "Why does this happen in Node.js?",
            options: ["Node.js is Single-Threaded; CPU-intensive tasks block the Event Loop.", "Node.js ran out of stack memory.", "The Garbage Collector is running.", "You forgot to use await."],
            answerText: "Node.js is Single-Threaded; CPU-intensive tasks block the Event Loop."
        },
        {
            topic: "Dependency Management",
            scenario: "[Node.js] A developer deleted node_modules and ran npm install. Production broke because a library updated automatically.",
            question: "Which file was missing that guarantees exact version consistency?",
            options: ["package-lock.json", "package.json", ".gitignore", "node_version.txt"],
            answerText: "package-lock.json"
        },
        {
            topic: "Database Optimization",
            scenario: "You notice code executes 1 SQL query to get 50 users, then loops to execute 50 more queries to get addresses.",
            question: "What performance issue is this, and how do you fix it?",
            options: ["The N+1 problem; fix using Eager Loading or JOINs.", "Deadlock; fix using isolation levels.", "Memory Leak; fix using GC.", "Index Fragmentation; re-index."],
            answerText: "The N+1 problem; fix using Eager Loading or JOINs."
        },
        {
            topic: "API Design",
            scenario: "A user double-clicks 'Pay Now'. Your API receives two identical requests and charges the user twice.",
            question: "What property is your API missing?",
            options: ["Idempotency", "Scalability", "Authentication", "Availability"],
            answerText: "Idempotency"
        },
        {
            topic: "API Standards",
            scenario: "Designing an endpoint POST /api/orders. After successful creation, what status code should return?",
            question: "Select the most semantically correct status code.",
            options: ["201 Created", "200 OK", "204 No Content", "202 Accepted"],
            answerText: "201 Created"
        },
        {
            topic: "Distributed Caching",
            scenario: "Session data is in memory on one server. You scale to 5 servers, and users keep getting logged out.",
            question: "What is the industry-standard solution?",
            options: ["Use a distributed cache like Redis or Memcached.", "Use Sticky Sessions only.", "Store in static variable.", "Increase RAM."],
            answerText: "Use a distributed cache like Redis or Memcached."
        },
        {
            topic: "Scaling Strategies",
            scenario: "High-traffic news feed. Data doesn't change often, but thousands request it. DB CPU is 100%.",
            question: "Most effective immediate strategy?",
            options: ["Implement a caching layer (Redis/CDN).", "Migrate to NoSQL.", "Normalize schema.", "Switch to UDP."],
            answerText: "Implement a caching layer (Redis/CDN)."
        },
        {
            topic: "Security (SQLi)",
            scenario: "Hacker inputs ' OR '1'='1 into a login field.",
            question: "What vulnerability is this and how do you prevent it?",
            options: ["SQL Injection; use Parameterized Queries.", "XSS; use CSP.", "CSRF; use Tokens.", "DDoS; use Rate Limiting."],
            answerText: "SQL Injection; use Parameterized Queries."
        },
        {
            topic: "Concurrency",
            scenario: "Two transactions read $100. Both write $110. Balance should be $120 but is $110.",
            question: "What is this phenomenon called?",
            options: ["Race Condition", "Deadlock", "Stack Overflow", "Memory Leak"],
            answerText: "Race Condition"
        },
        {
            topic: "Database Architecture",
            scenario: "You need to store financial transactions that must strictly adhere to a rigid schema and ACID.",
            question: "Which database type is the best fit?",
            options: ["Relational Database (SQL)", "Key-Value Store", "Document Store", "Graph Database"],
            answerText: "Relational Database (SQL)"
        },
        {
            topic: "Async Architecture",
            scenario: "API waits for an email to be sent via 3rd party before responding, causing timeouts.",
            question: "How should you re-architect this?",
            options: ["Offload to Message Queue (RabbitMQ/Kafka).", "Increase timeout limit.", "Use faster SMTP.", "Compress JSON."],
            answerText: "Offload to Message Queue (RabbitMQ/Kafka)."
        },
        {
            topic: "API Standards",
            scenario: "Client requests GET /users/999 but user 999 does not exist.",
            question: "What status code should return?",
            options: ["404 Not Found", "500 Internal Server Error", "204 No Content", "400 Bad Request"],
            answerText: "404 Not Found"
        },
        {
            topic: "Observability",
            scenario: "A request fails across 10 microservices. You don't know which one failed.",
            question: "What pattern helps track this?",
            options: ["Distributed Tracing with Correlation IDs.", "Centralized Logging.", "Health Checks.", "Circuit Breaker."],
            answerText: "Distributed Tracing with Correlation IDs."
        },
        {
            topic: "Security (Auth)",
            scenario: "Need stateless authentication for a mobile app API.",
            question: "Which standard is best suited?",
            options: ["JWT (JSON Web Tokens)", "Sessions", "Basic Auth", "Digest Auth"],
            answerText: "JWT (JSON Web Tokens)"
        },
        {
            topic: "Database Indexing",
            scenario: "10 million rows. Queries filtering by last_name take 5 seconds.",
            question: "First step to optimize?",
            options: ["Add a database index on last_name.", "Archive data.", "Change column type.", "Switch DB."],
            answerText: "Add a database index on last_name."
        },
        {
            topic: "Deployment",
            scenario: "Route 10% of traffic to new version and 90% to old to test stability.",
            question: "What strategy is this?",
            options: ["Canary Deployment", "Blue-Green Deployment", "Rolling Update", "Big Bang."],
            answerText: "Canary Deployment"
        },
        {
            topic: "Resilience Patterns",
            scenario: "3rd party API is down. Your system keeps calling it, crashing your own app.",
            question: "What pattern prevents this?",
            options: ["Circuit Breaker Pattern", "Singleton", "Observer", "Factory"],
            answerText: "Circuit Breaker Pattern"
        },
        {
            topic: "Serverless",
            scenario: "Lambda takes 5s to respond after being idle, but 200ms afterwards.",
            question: "What is this phenomenon?",
            options: ["Cold Start", "Memory Leak", "GC Pause", "Network Latency"],
            answerText: "Cold Start"
        },
        {
            topic: "REST Principles",
            scenario: "PUT /users/{id} deletes the email field if not provided in the request.",
            question: "Likely cause?",
            options: ["PUT replaces entire resource; PATCH is for partial.", "Trigger error.", "Not idempotent.", "Client sent 204."],
            answerText: "PUT replaces entire resource; PATCH is for partial."
        },
        {
            topic: "CAP Theorem",
            scenario: "System needs Consistency and Partition Tolerance.",
            question: "What must you sacrifice per CAP theorem?",
            options: ["Availability", "Consistency", "Partition Tolerance", "Latency"],
            answerText: "Availability"
        },
        {
            topic: "Security Defense",
            scenario: "Malicious user sending 10k requests/sec to crash server.",
            question: "Defense mechanism at API Gateway?",
            options: ["Rate Limiting", "Encryption", "Indexing", "Load Balancing"],
            answerText: "Rate Limiting"
        },
        {
            topic: "Git Workflow",
            scenario: "Merge feature into main, but main has moved forward.",
            question: "Operation to update branch with latest main changes?",
            options: ["Git Rebase or Merge", "Git Stash", "Git Fork", "Git Cherry-pick"],
            answerText: "Git Rebase or Merge"
        }
    ];

    // --- 3. DATA PREPARATION (Randomization Logic) ---
    // Shuffle the Questions first
    const shuffledQuestions = shuffleArray([...initialQuestions]);
    
    // Shuffle the Options for each question independently
    const questions = shuffledQuestions.map(q => {
        // Create an array of objects to keep track of which option is correct
        const optionObjects = q.options.map(text => ({ 
            text: text, 
            isCorrect: text === q.answerText 
        }));

        // Shuffle these objects
        const shuffledOptions = shuffleArray(optionObjects);

        // Find the new index of the correct answer
        const newAnswerIndex = shuffledOptions.findIndex(opt => opt.isCorrect);

        return {
            topic: q.topic,
            scenario: q.scenario,
            question: q.question,
            options: shuffledOptions.map(opt => opt.text), // Flatten back to strings for display
            answer: newAnswerIndex // The new correct index
        };
    });

    // --- 4. APP STATE ---
    let currentQuestionIndex = 0;
    let userAnswers = new Array(questions.length).fill(null);
    let timerInterval;
    const TIME_LIMIT = 30; // 35 Seconds

    // --- 5. DOM ELEMENTS ---
    const startScreen = document.getElementById('start-screen');
    const quizInterface = document.getElementById('quiz-interface');
    const quizContent = document.getElementById('quiz-content');
    const resultScreen = document.getElementById('result-screen');
    const nextButton = document.getElementById('next-button');
    const progressFill = document.getElementById('progress-fill');
    const timeLeftSpan = document.getElementById('time-left');
    const totalQuestions = questions.length;

    // --- 6. CORE FUNCTIONS ---

    window.startQuiz = function() {
        startScreen.style.display = 'none';
        quizInterface.style.display = 'block';
        renderQuestion(currentQuestionIndex);
    }

    function startTimer() {
        clearInterval(timerInterval);
        let timeRemaining = TIME_LIMIT;
        timeLeftSpan.textContent = timeRemaining;

        timerInterval = setInterval(() => {
            timeRemaining--;
            timeLeftSpan.textContent = timeRemaining;

            if (timeRemaining <= 0) {
                clearInterval(timerInterval);
                handleTimeOut();
            }
        }, 1000);
    }

    function handleTimeOut() {
        if (currentQuestionIndex < totalQuestions - 1) {
            currentQuestionIndex++;
            renderQuestion(currentQuestionIndex);
        } else {
            showResults();
        }
    }

    function renderQuestion(index) {
        clearInterval(timerInterval);
        
        // Clear previous question content
        quizContent.innerHTML = '';

        const qData = questions[index];
        const questionElement = document.createElement('div');
        questionElement.className = 'question-slide active'; // Add active class immediately

        let optionsHtml = qData.options.map((option, optIndex) => `
            <button class="option-button" data-question-index="${index}" data-option-index="${optIndex}">
                ${option}
            </button>
        `).join('');

        questionElement.innerHTML = `
            <h2>Question ${index + 1} of ${totalQuestions}</h2>
            <div class="scenario-text">${qData.scenario}</div>
            <p style="font-weight: bold; font-size: 1.15em; margin-bottom: 20px;">${qData.question}</p>
            <div class="options-group">${optionsHtml}</div>
        `;
        
        quizContent.appendChild(questionElement);

        // Add Event Listeners
        questionElement.querySelectorAll('.option-button').forEach(button => {
            button.addEventListener('click', handleOptionClick);
        });

        startTimer();
        updateNavigation();
        updateProgress();
    }

    function handleOptionClick(event) {
        const button = event.target.closest('.option-button');
        const qIndex = parseInt(button.dataset.questionIndex);
        const oIndex = parseInt(button.dataset.optionIndex);
        
        userAnswers[qIndex] = oIndex;

        const optionsGroup = button.closest('.options-group');
        optionsGroup.querySelectorAll('.option-button').forEach(btn => btn.classList.remove('selected'));
        button.classList.add('selected');

        updateNavigation(); 
    }

    function updateNavigation() {
        const isAnswered = userAnswers[currentQuestionIndex] !== null; 

        if (currentQuestionIndex < totalQuestions - 1) {
            nextButton.textContent = 'Next Question ‚Üí';
            nextButton.disabled = !isAnswered; 
            nextButton.onclick = () => { 
                 if (isAnswered) {
                    clearInterval(timerInterval);
                    currentQuestionIndex++; 
                    renderQuestion(currentQuestionIndex);
                } 
            };
        } else {
            nextButton.textContent = 'Finish & Analyze';
            nextButton.disabled = !isAnswered;
            nextButton.onclick = () => { 
                 if (isAnswered) {
                    clearInterval(timerInterval);
                    showResults(); 
                 }
            };
        }
    }

    function updateProgress() {
        const answeredCount = userAnswers.filter(a => a !== null).length; // Just for visual progress
        const realProgress = ((currentQuestionIndex) / totalQuestions) * 100;
        progressFill.style.width = `${realProgress}%`;
    }

    function calculateScore() {
        let score = 0;
        let missedTopics = new Set();
        
        questions.forEach((q, index) => {
            if (userAnswers[index] === q.answer) {
                score++;
            } else {
                missedTopics.add(q.topic);
            }
        });
        return { score, missedTopics };
    }

    function showResults() {
        clearInterval(timerInterval);
        const { score, missedTopics } = calculateScore();
        const percentage = Math.round((score / totalQuestions) * 100);
        
        let feedback = '';
        let role = '';
        let badgeColor = '';

        if (percentage >= 85) {
            role = "Senior Backend Developer";
            badgeColor = "#28a745"; 
            feedback = "Outstanding. You have demonstrated architectural mastery, understanding of low-level language internals (GIL/Event Loop), and advanced system design.";
        } else if (percentage >= 50) {
            role = "Junior/Mid-level Developer";
            badgeColor = "#007bff"; 
            feedback = "Solid foundation. You are ready for professional work, but need to deepen your knowledge of scaling strategies and distributed systems to reach Senior level.";
        } else {
            role = "Entry Level / Trainee";
            badgeColor = "#ffc107"; 
            feedback = "Good effort. You have potential, but there are significant gaps in core concepts like Database Normalization and Concurrency. Recommended to focus on the topics below.";
        }

        quizContent.style.display = 'none';
        document.getElementById('navigation').style.display = 'none';
        document.getElementById('timer-display').style.display = 'none';
        
        progressFill.style.width = '100%';
        resultScreen.style.display = 'block';
        
        document.getElementById('final-score').textContent = `${score} / ${totalQuestions}`;
        
        const roleBadge = document.getElementById('role-designation');
        roleBadge.textContent = role;
        roleBadge.style.backgroundColor = badgeColor;
        if(role === "Entry Level / Trainee") roleBadge.style.color = "#333";

        // Dynamic Feedback
        const feedbackBox = document.getElementById('detailed-feedback');
        const weaknessList = document.getElementById('weakness-list');
        
        if (missedTopics.size > 0) {
            feedbackBox.style.display = 'block';
            weaknessList.innerHTML = ''; 
            const topicsArray = Array.from(missedTopics).slice(0, 6); 
            
            topicsArray.forEach(topic => {
                const li = document.createElement('li');
                li.textContent = topic;
                weaknessList.appendChild(li);
            });
            
            if (missedTopics.size > 6) {
                const li = document.createElement('li');
                li.textContent = `...and ${missedTopics.size - 6} other missed topics.`;
                li.style.fontStyle = 'italic';
                weaknessList.appendChild(li);
            }
        } else {
            feedbackBox.style.display = 'block';
            feedbackBox.style.backgroundColor = "#d4edda";
            feedbackBox.style.borderColor = "#28a745";
            feedbackBox.querySelector('h3').innerHTML = "üëè Flawless Performance!";
            feedbackBox.querySelector('h3').style.color = "#155724";
            feedbackBox.querySelector('p').textContent = "You answered every single question correctly. You are overqualified for this test.";
        }

        document.getElementById('general-feedback').textContent = feedback;
    }
</script>

</body>
</html>
